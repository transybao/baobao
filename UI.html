<!DOCTYPE html>
<html>
<head>
	<title>Real time chat application</title>
	<style>
		body
		{
			background: #efefef;
		}
		header
		{
			margin:0px auto;
			font-size: 1.3em;
			text-align: center;
			color: #f2ae72;
		}
		#chat
		{
			width:500px;
			height:500px;
			overflow:auto;
			border:2px solid #85c4b9;
			background:white;
		}
		.wrapper
		{
			width:500px;
			height:auto;
			margin:0px auto;
		}
		#message
		{
			width:502px;
			height:28px;
			font-size: 1.1em;
			outline: 0;
			border-top:0px;
			border-right: 0px;
			border-left:0px;
			border-bottom-color: #efefef;
			text-indent: 5px;
		}

		#message:focus
		{
			border-bottom-color: #c9c9c9;
		}
		.income
		{
			padding:10px;
			margin-left:10px;
			margin-right:10px;
			word-wrap: break-word;
			background-color: #efefef;
			border:1px solid gray;
			border-radius: 5px;
			margin-top:10px;
		}

	</style>
	<style type="text/css" media="screen">
		
	</style>

</head>
<body>
	<!--New-->
	
  	<!--New-->
  	<header>Ứng dụng chat theo thời gian thực</header>
  	<br>
	<div class="wrapper">
		<div id="chat">
			
		</div>
		<br>
		
		<form id="send_message">
			<input type="text" id="message"/>
	<!-- 		<input type="submit" value="Send"> -->
		</form>
	</div>



	<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script type="text/javascript">
		
		$(document).ready(function() {
			var socket = io.connect();
			var messForm = $('#send_message');
			var mess = $('#message')
			var show = $('#chat');

			messForm.submit(function(e)
			{
				e.preventDefault();
				//gửi data lên server
				socket.emit('send mess', mess.val().trim());
				mess.val('');
			});

			//client nhận data trả về từ server
			socket.on('new mess', function(data){
				show.append('<p class="income">' + data + '</p>');
				show.stop().animate({scrollTop: $(".chat-list")[0].scrollHeight},'slow');
			});

		});
	</script>

	<script type="text/javascript">
		$(document).ready(function() {
			
		});		
	</script>
</body>
</html>