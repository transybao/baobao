<!DOCTYPE html>
<html>
<head>
	<title>Real time chat application</title>
	<style>
		body
		{
			background: #efefef;
		}
		header
		{
			margin:0px auto;
			font-size: 1.3em;
			text-align: center;
			color: #f2ae72;
		}
		#chat
		{
			width:500px;
			height:500px;
			overflow:auto;
			border:2px solid #85c4b9;
			background:white;
		}
		.wrap
		{
			width:500px;
			height:auto;
			margin:0px auto;
		}
		#message
		{
			width:502px;
			height:28px;
			font-size: 1.1em;
			outline: 0;
			border-top:0px;
			border-right: 0px;
			border-left:0px;
			border-bottom-color: #efefef;
			text-indent: 5px;
		}

		#message:focus
		{
			border-bottom-color: #c9c9c9;
		}
		.income
		{
			padding:10px;
			margin-left:10px;
			margin-right:10px;
			word-wrap: break-word;
			background-color: #efefef;
			border:1px solid gray;
			border-radius: 5px;
			margin-top:10px;
		}
		.left_login
		{
			width:200px;
			height:100px;
			background:black;
			float:left;
		}

	</style>
	<style type="text/css" media="screen">
		@keyframes spinner {
		  0% { transform: rotateZ(0deg); }
		  100% { transform: rotateZ(359deg); }
		}

		* {
		  box-sizing: border-box;
		}

		.wrapper {
		  display: flex;
		  align-items: center;
		  flex-direction: column; 
		  justify-content: center;
		  width: 100%;
		  min-height: 100%;
		  padding: 20px;
		  background: rgba(darken($primary,40%), 0.85);
		}


		.login {
		  
		  border-radius: 2px 2px 5px 5px;
		  padding: 10px 20px 20px 20px;
		  width: 90%;
		  max-width: 320px;
		  background: #ffffff;
		  position: relative;
		  padding-bottom: 80px;
		  box-shadow: 0px 1px 5px rgba(0,0,0,0.3);
		  
		  &.loading {
		    button {
		      max-height: 100%;
		      padding-top: 50px;
		      .spinner {
		        opacity: 1;
		        top: 40%;
		      }
		    }  
		  }
		  
		  &.ok {
		    button {
		      background-color: #8bc34a;
		      .spinner{
		        border-radius: 0;
		        border-top-color: transparent;
		        border-right-color: transparent;
		        height: 20px;
		        animation: none;
		        transform: rotateZ(-45deg);
		      }
		    }
		  }
		  
		  input {
		    display: block;
		    padding: 15px 10px;
		    margin-bottom: 10px;
		    width: 100%;
		    border: 1px solid #ddd;
		    transition: border-width 0.2s ease;
		    border-radius: 2px;
		    color: #ccc;
		    
		    &+ i.fa {
		        color: #fff;
		      font-size: 1em;
		      position: absolute;
		      margin-top: -47px;
		      opacity: 0;
		      left: 0;
		      transition: all 0.1s ease-in;
		    }
		    
		    &:focus {
		      &+ i.fa {
		        opacity: 1;
		        left: 30px;
		      transition: all 0.25s ease-out;
		      }
		      outline: none;
		      color: #444;
		      border-color: $primary;
		      border-left-width: 35px;
		    }
		    
		  }
		  
		  a {
		   font-size: 0.8em;   
		    color: $primary;
		    text-decoration: none;
		  }
		  
		  .title {
		    color: #444;
		    font-size: 1.2em;
		    font-weight: bold;
		    margin: 10px 0 30px 0;
		    border-bottom: 1px solid #eee;
		    padding-bottom: 20px;
		  }
		  
		  button {
		    width: 100%;
		    height: 100%;
		    padding: 10px 10px;
		    background: $primary;
		    color: #fff;
		    display: block;
		    border: none;
		    margin-top: 20px;
		    position: absolute;
		    left: 0;
		    bottom: 0;
		    max-height: 60px;
		    border: 0px solid rgba(0,0,0,0.1);
		  border-radius: 0 0 2px 2px;
		    transform: rotateZ(0deg);
		    
		    transition: all 0.1s ease-out;
		      border-bottom-width: 7px;
		    
		    .spinner {
		      display: block;
		      width: 40px;
		      height: 40px;
		      position: absolute;
		      border: 4px solid #ffffff;
		      border-top-color: rgba(255,255,255,0.3);
		      border-radius: 100%;
		      left: 50%;
		      top: 0;
		      opacity: 0;
		      margin-left: -20px;
		      margin-top: -20px;
		      animation: spinner 0.6s infinite linear;
		      transition: top 0.3s 0.3s ease,
		                opacity 0.3s 0.3s ease,
		                border-radius 0.3s ease;
		      box-shadow: 0px 1px 0px rgba(0,0,0,0.2);
		    }
		    
		  }
		  
		    &:not(.loading) button:hover {
		      box-shadow: 0px 1px 3px $primary;
		    }
		    &:not(.loading) button:focus {
		      border-bottom-width: 4px;
		    }
		    
		  
		}

		footer {
		  display: block;
		  padding-top: 50px;
		  text-align: center;
		  color: #ddd;
		  font-weight: normal;
		  text-shadow: 0px -1px 0px rgba(0,0,0,0.2);
		  font-size: 0.8em;
		  a, a:link {
		    color: #fff;
		    text-decoration: none;
		  }
		}
	</style>

</head>
<body>
	<!--New-->
	
  	<!--New-->
  	<!--Left login-->
  	<div class="left_login">
  		<div class="wrapper">
		  <form class="login">
		    <p class="title">Log in</p>
		    <input type="text" placeholder="Username" autofocus/>
		    <i class="fa fa-user"></i>
		    <input type="password" placeholder="Password" />
		    <i class="fa fa-key"></i>
		    <a href="#">Forgot your password?</a>
		    <button>
		      <i class="spinner"></i>
		      <span class="state">Log in</span>
		    </button>
		  </form>
		  <footer><a target="blank" href="http://boudra.me/">boudra.me</a></footer>
		  </p>
		</div>
  	</div>
  	<!--Main-->
  	<header>Ứng dụng chat theo thời gian thực</header>
  	<br>
	<div class="wrap">
		<div id="chat">
			
		</div>
		<br>
		
		<form id="send_message">
			<input type="text" id="message"/>
	<!-- 		<input type="submit" value="Send"> -->
		</form>
	</div>



	<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script type="text/javascript">
		
		$(document).ready(function() {
			var socket = io.connect();
			var messForm = $('#send_message');
			var mess = $('#message')
			var show = $('#chat');

			messForm.submit(function(e)
			{
				e.preventDefault();
				//gửi data lên server
				socket.emit('send mess', mess.val().trim());
				mess.val('');
			});

			//client nhận data trả về từ server
			socket.on('new mess', function(data){
				show.append('<p class="income">' + data + '</p>');
				show.stop().animate({scrollTop: show[0].scrollHeight},'slow');
			});

		});
	</script>

	<script type="text/javascript">
		$(document).ready(function() {
			
		});		
	</script>
</body>
</html>